<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel Deals - Cars</title>
    <link rel="stylesheet" href="mystyle.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Travel Deals</h1>
            <div id="datetime"></div>
        </header>

        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="stays.html">Stays</a></li>
                <li><a href="flights.html">Flights</a></li>
                <li><a href="cars.html" class="active">Cars</a></li>
                <li><a href="cruises.html">Cruises</a></li>
                <li><a href="contact.html">Contact Us</a></li>
            </ul>
        </nav>

        <div class="content-wrapper">
            <aside class="sidebar">
                <h3>Settings</h3>
                <div class="controls">
                    <label for="fontSize">Font Size:</label>
                    <select id="fontSize">
                        <option value="14">Small</option>
                        <option value="16" selected>Medium</option>
                        <option value="18">Large</option>
                        <option value="20">Extra Large</option>
                    </select>

                    <label for="bgColor">Background Color:</label>
                    <input type="color" id="bgColor" value="#ffffff">
                </div>
            </aside>

            <main id="mainContent">
                <h2>Rent a Car</h2>

                <div id="carFormContainer"></div>

                <div class="result" id="resultDiv">
                    <h3>Car Rental Results</h3>
                    <div id="resultContent"></div>
                </div>
            </main>
        </div>

        <footer>
            <p>&copy; 2025 Travel Deals. All rights reserved.</p>
        </footer>
    </div>

    <script>
        // Display current date and time
        function updateDateTime() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            };
            document.getElementById('datetime').textContent = now.toLocaleDateString('en-US', options);
        }
        
        updateDateTime();
        setInterval(updateDateTime, 1000);

        // Settings
        document.getElementById('fontSize').addEventListener('change', function() {
            document.getElementById('mainContent').style.fontSize = this.value + 'px';
        });

        document.getElementById('bgColor').addEventListener('change', function() {
            document.getElementById('mainContent').style.backgroundColor = this.value;
        });

        // Build form using DOM methods
        function buildCarForm() {
            const container = document.getElementById('carFormContainer');
            
            // Create form element
            const form = document.createElement('form');
            form.id = 'carForm';
            
            // City input
            const cityGroup = document.createElement('div');
            cityGroup.className = 'form-group';
            
            const cityLabel = document.createElement('label');
            cityLabel.setAttribute('for', 'city');
            cityLabel.textContent = 'City: *';
            
            const cityInput = document.createElement('input');
            cityInput.type = 'text';
            cityInput.id = 'city';
            cityInput.name = 'city';
            cityInput.placeholder = 'Enter city name';
            
            const cityError = document.createElement('span');
            cityError.className = 'error';
            cityError.id = 'cityError';
            
            cityGroup.appendChild(cityLabel);
            cityGroup.appendChild(cityInput);
            cityGroup.appendChild(cityError);
            
            // Car type select
            const carTypeGroup = document.createElement('div');
            carTypeGroup.className = 'form-group';
            
            const carTypeLabel = document.createElement('label');
            carTypeLabel.setAttribute('for', 'carType');
            carTypeLabel.textContent = 'Type of Car: *';
            
            const carTypeSelect = document.createElement('select');
            carTypeSelect.id = 'carType';
            carTypeSelect.name = 'carType';
            
            const carTypes = ['', 'Economy', 'SUV', 'Compact', 'Midsize'];
            carTypes.forEach(type => {
                const option = document.createElement('option');
                option.value = type.toLowerCase();
                option.textContent = type || '-- Select Car Type --';
                carTypeSelect.appendChild(option);
            });
            
            const carTypeError = document.createElement('span');
            carTypeError.className = 'error';
            carTypeError.id = 'carTypeError';
            
            carTypeGroup.appendChild(carTypeLabel);
            carTypeGroup.appendChild(carTypeSelect);
            carTypeGroup.appendChild(carTypeError);
            
            // Date inputs row
            const dateRow = document.createElement('div');
            dateRow.className = 'form-row';
            
            // Check-in date
            const checkInGroup = document.createElement('div');
            checkInGroup.className = 'form-group';
            
            const checkInLabel = document.createElement('label');
            checkInLabel.setAttribute('for', 'checkIn');
            checkInLabel.textContent = 'Pick-up Date: *';
            
            const checkInInput = document.createElement('input');
            checkInInput.type = 'date';
            checkInInput.id = 'checkIn';
            checkInInput.name = 'checkIn';
            
            const checkInError = document.createElement('span');
            checkInError.className = 'error';
            checkInError.id = 'checkInError';
            
            checkInGroup.appendChild(checkInLabel);
            checkInGroup.appendChild(checkInInput);
            checkInGroup.appendChild(checkInError);
            
            // Check-out date
            const checkOutGroup = document.createElement('div');
            checkOutGroup.className = 'form-group';
            
            const checkOutLabel = document.createElement('label');
            checkOutLabel.setAttribute('for', 'checkOut');
            checkOutLabel.textContent = 'Drop-off Date: *';
            
            const checkOutInput = document.createElement('input');
            checkOutInput.type = 'date';
            checkOutInput.id = 'checkOut';
            checkOutInput.name = 'checkOut';
            
            const checkOutError = document.createElement('span');
            checkOutError.className = 'error';
            checkOutError.id = 'checkOutError';
            
            checkOutGroup.appendChild(checkOutLabel);
            checkOutGroup.appendChild(checkOutInput);
            checkOutGroup.appendChild(checkOutError);
            
            dateRow.appendChild(checkInGroup);
            dateRow.appendChild(checkOutGroup);
            
            // Buttons
            const buttonDiv = document.createElement('div');
            buttonDiv.style.marginTop = '20px';
            
            const submitBtn = document.createElement('button');
            submitBtn.type = 'submit';
            submitBtn.textContent = 'Submit';
            
            const resetBtn = document.createElement('button');
            resetBtn.type = 'reset';
            resetBtn.textContent = 'Reset';
            
            buttonDiv.appendChild(submitBtn);
            buttonDiv.appendChild(resetBtn);
            
            // Append all to form
            form.appendChild(cityGroup);
            form.appendChild(carTypeGroup);
            form.appendChild(dateRow);
            form.appendChild(buttonDiv);
            
            // Append form to container
            container.appendChild(form);
            
            // Add event listener
            form.addEventListener('submit', validateCarForm);
        }

        function validateCarForm(e) {
            e.preventDefault();
            
            // Clear previous errors
            const errors = document.querySelectorAll('.error');
            errors.forEach(error => {
                error.textContent = '';
                error.classList.remove('show');
            });

            let isValid = true;

            // Get form values
            const city = document.getElementById('city').value.trim();
            const carType = document.getElementById('carType').value;
            const checkIn = document.getElementById('checkIn').value;
            const checkOut = document.getElementById('checkOut').value;

            // Validate city
            if (!city) {
                showError('cityError', 'City is required');
                isValid = false;
            }

            // Validate car type (must be economy, SUV, Compact, or Midsize)
            const validCarTypes = ['economy', 'suv', 'compact', 'midsize'];
            if (!carType) {
                showError('carTypeError', 'Car type is required');
                isValid = false;
            } else if (!validCarTypes.includes(carType.toLowerCase())) {
                showError('carTypeError', 'Car type must be Economy, SUV, Compact, or Midsize');
                isValid = false;
            }

            // Validate check-in date
            if (!checkIn) {
                showError('checkInError', 'Pick-up date is required');
                isValid = false;
            } else if (!isValidDateRange(checkIn)) {
                showError('checkInError', 'Pick-up date must be between Sep 1, 2024 and Dec 1, 2024');
                isValid = false;
            }

            // Validate check-out date
            if (!checkOut) {
                showError('checkOutError', 'Drop-off date is required');
                isValid = false;
            } else if (!isValidDateRange(checkOut)) {
                showError('checkOutError', 'Drop-off date must be between Sep 1, 2024 and Dec 1, 2024');
                isValid = false;
            } else if (new Date(checkOut) <= new Date(checkIn)) {
                showError('checkOutError', 'Drop-off date must be after pick-up date');
                isValid = false;
            }

            // If all validations pass, display results
            if (isValid) {
                displayResults(city, carType, checkIn, checkOut);
            }
        }

        function isValidDateRange(dateStr) {
            const date = new Date(dateStr);
            const minDate = new Date('2024-09-01');
            const maxDate = new Date('2024-12-01');
            return date >= minDate && date <= maxDate;
        }

        function showError(elementId, message) {
            const errorElement = document.getElementById(elementId);
            errorElement.textContent = message;
            errorElement.classList.add('show');
        }

        function displayResults(city, carType, checkIn, checkOut) {
            const resultDiv = document.getElementById('resultDiv');
            const resultContent = document.getElementById('resultContent');
            
            // Calculate rental duration
            const start = new Date(checkIn);
            const end = new Date(checkOut);
            const days = Math.ceil((end - start) / (1000 * 60 * 60 * 24));
            
            const html = `
                <p><strong>City:</strong> ${city}</p>
                <p><strong>Car Type:</strong> ${carType.charAt(0).toUpperCase() + carType.slice(1)}</p>
                <p><strong>Pick-up Date:</strong> ${checkIn}</p>
                <p><strong>Drop-off Date:</strong> ${checkOut}</p>
                <p><strong>Rental Duration:</strong> ${days} day(s)</p>
                <p style="color: #27ae60; font-weight: bold;">Your car rental is ready! We'll show you the best available options.</p>
            `;
            
            resultContent.innerHTML = html;
            resultDiv.classList.add('show');
        }

        // Build the form when page loads
        buildCarForm();
    </script>
</body>
</html>